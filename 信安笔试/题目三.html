<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>题目三</title>
</head>
<script type="text/javascript">
	function ajax( url, options) {
	var xhr = null;
	var options={
		method:'get';
		data:{'name':123;'password':456;}
		onsuccess:function(){
			xhr.responseText
		}
		onfail:function(){
			alert('wrong');
		}
	}
	try {
		xhr = new XMLHttpRequest();
	} catch (e) {
		xhr = new ActiveXObject('Microsoft.XMLHTTP');
	}
	
	if (method == options.method && options.data) {
		url += '?' + options.data;
	}
	
	xhr.open(options.method,url,true);
	if (options.method == 'get') {
		xhr.send();
	} else {
		xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');
		xhr.send(options.data);
	}
	
	xhr.onreadystatechange = function() {
		
		if ( xhr.readyState == 4 ) {
			if ( xhr.status == 200 ) {
				options.onsuccess;
			} else {
				options.onfail;
				alert('出错了,Err：' + xhr.status);
			}
		}
		
	}
}
</script>
<body>
	
</body>
</html>